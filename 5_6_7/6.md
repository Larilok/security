Lab 6
==========

## Secure storage

Дальнейший текст основывается на статье [OWASP Cryptographic Storage Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Cryptographic_Storage_Cheat_Sheet.html)

- В качестве библиотеки использовалась стандартная 'crypto' Node.js.
- Алгоритм - 'chacha20-poly1305' с AEAD, он гарантирует то, что данные не были изменены после шифрования
- Для генерации ключа(KEK) используется crypto.randomBytes(), что является CSPRNG, ключ хранится в файловой системе
- В базе хранится nonce(iv) и authTag(AD)

Возможные атаки:
- Взлом сервера и получение ключа

Улучшения:
- Хранение основного ключа(KEK) в KMS и генерация DEK для каждой записи, которые будут хранится в файловой системе
- Некоторые базы данных позволяют организовать защиту в самих базах данных
- Настроить автоматическое изменение ключа после шифрования примерно 2^35 bytes (~34GB) данных